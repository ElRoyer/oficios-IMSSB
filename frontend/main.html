<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Dashboard</title>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const authUser = localStorage.getItem("authUser");
        if (!authUser) {
          alert(
            "No estás autenticado. Redirigiendo a la página de inicio de sesión..."
          );
          window.location.href = "index.html"; // Redirige a la página de login
        }
      });
    </script>
    <link rel="stylesheet" href="styles_upload.css" />
  </head>
  <body>
    <div class="container">
      <h1>Dashboard Oficios</h1>

      <!-- Agregar otro oficio-->
     <a href="#modal2">Agregar Oficio</a>
      <div id="modal2" class="modalmask2">
        <div class="modalbox movedown">
          <a href="#close" title="Close" class="close">X</a>
          <!-- multistep form -->
          <form
            id="miFormulario"
            oninput="
              document.getElementById('folioOut').textContent = folio.value;
              document.getElementById('asuntoOut').textContent = asunto.value;
              document.getElementById('destinatarioOut').textContent = destinatario.value;
              document.getElementById('remitenteOut').textContent = remitente.value;
              document.getElementById('estadoOut').textContent = estado.value;
          "
          >
            <!-- progressbar -->
            <ul id="progressbar">
              <li class="active">Seleccionar archivo</li>
              <li>Registrar información</li>
              <li>Verificar datos</li>
            </ul>
            <!-- fieldsets -->
            <fieldset>
              <h2 class="fs-title">Seleccionar archivo</h2> <br />
              <input type="file" id="fileInput" /><br /><br />

              <input
                type="button"
                name="next"
                class="next action-button"
                value="Next"
              />
            </fieldset>
            <fieldset>
              <h2 class="fs-title">Registrar información</h2>

              <input
                type="text"
                id="folio"
                name="folio"
                placeholder="Folio"
                required
              /><br /><br />

              <input
                type="text"
                id="asunto"
                name="asunto"
                placeholder="Asunto"
                required
              /><br /><br />

              <input
                type="text"
                id="destinatario"
                name="destinatario"
                placeholder="Destinatario"
                required
              /><br /><br />

              <input
                type="text"
                id="remitente"
                name="remitente"
                placeholder="Remitente"
                required
              /><br /><br />

              <input
                type="text"
                id="estado"
                name="estado"
                placeholder="Estado"
                required
              /><br /><br />
              <input
                type="button"
                name="previous"
                class="previous action-button"
                value="Previous"
              />
              <input
                type="button"
                name="next"
                class="next action-button"
                value="Next"
              />
            </fieldset>
            <fieldset>
              <h2 class="fs-title">Verificar información</h2>
              <p><b>Folio:</b> <output id="folioOut"></output></p>
              <p><b>Asunto:</b> <output id="asuntoOut"></output></p>
              <p><b>Destinatario:</b> <output id="destinatarioOut"></output></p>
              <p><b>Remitente:</b> <output id="remitenteOut"></output></p>
              <p><b>Estado:</b> <output id="estadoOut"></output></p>
              <input type="button" name="previous" class="previous action-button" value="Previous" />
              <button href="#close" id="uploadButton" class="submit action-button">Subir</button>
            </fieldset>
          </form>
        </div>
      </div>

      <!-- Tabla centrada -->
      <div class="table-container">
        <!-- Listar tabla todos los oficios -->
        <table border="1">
          <thead>
            <tr>
              <th>Folio</th>
              <th>Asunto</th>
              <th>Destinatario</th>
              <th>Remitente</th>
              <th>Estado</th>
              <th>Fecha</th>
              <th>Url</th>
            </tr>
          </thead>
          <tbody id="tablaOficios">
            <!-- Aquí se insertarán los datos dinámicamente -->
          </tbody>
        </table>
      </div>
      <button id="logoutBtn">Cerrar Sesión</button>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="./script_upload.js"></script>
  </body>
</html>
